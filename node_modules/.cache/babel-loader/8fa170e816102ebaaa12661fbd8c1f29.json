{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\chatapp\\src\\components\\Home\\articleDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\src\\components\\Home\\articleDetail.vue","mtime":1575941918300},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY3JlYXRlQXJ0aWNsZSwgZ2V0QXJ0aWNsZXMsIGFkZENvbW1lbnQgfSBmcm9tICJAL2FwaS9hcnRpY2xlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBcnRpY2xlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogW10sCiAgICAgIGNvbnRlbnQ6ICIiLAogICAgICBpc1Nob3c6IGZhbHNlLAogICAgICBhZGRTaG93OiBmYWxzZSwKICAgICAgbWVzc2FnZTogIiIsCiAgICAgIHNjcm9sbDogIiIsCiAgICAgIGlzUmVmcmVzaDogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRBcnRpY2xlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNyZWF0ZUFydGljbGUoewogICAgICAgIGNvbnRlbnQ6IHRoaXMubWVzc2FnZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpcy5tZXNzYWdlID0gIiI7CiAgICAgICAgICBfdGhpcy5hZGRTaG93ID0gZmFsc2U7CgogICAgICAgICAgX3RoaXMuZ2V0QXJ0aWNsZSgpOwoKICAgICAgICAgIHJldHVybiBfdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBtZXNzYWdlOiByZXMuZGF0YS5tZXNzYWdlCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIF90aGlzLiRub3RpZnkocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3c6IGZ1bmN0aW9uIHNob3coaW5kZXgpIHsKICAgICAgdGhpcy5jb250ZW50ID0gIiI7CiAgICAgIHZhciBkYXRhID0gdGhpcy5saXN0OwogICAgICBkYXRhID0gZGF0YS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLmlzU2hvdyA9IGZhbHNlOwogICAgICAgIHJldHVybiBlOwogICAgICB9KTsKICAgICAgZGF0YVtpbmRleF0uaXNTaG93ID0gdHJ1ZTsKICAgICAgdGhpcy5saXN0ID0gZGF0YTsKICAgIH0sCiAgICBnZXRBcnRpY2xlOiBmdW5jdGlvbiBnZXRBcnRpY2xlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGdldEFydGljbGVzKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGxpc3QgPSByZXMuZGF0YS5kYXRhOwogICAgICAgIGxpc3QgPSBsaXN0Lm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgZS5pc1Nob3cgPSBmYWxzZTsKICAgICAgICAgIHJldHVybiBlOwogICAgICAgIH0pOwogICAgICAgIF90aGlzMi5saXN0ID0gbGlzdDsKICAgICAgICBfdGhpczIuaXNSZWZyZXNoID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KGluZGV4KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgYWRkQ29tbWVudCh7CiAgICAgICAgaWQ6IHRoaXMubGlzdFtpbmRleF0uX2lkLAogICAgICAgIGNvbnRlbnQ6IHRoaXMuY29udGVudAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczMuZ2V0QXJ0aWNsZSgpOwoKICAgICAgICAgIHJldHVybiBfdGhpczMuJG5vdGlmeSh7CiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubWVzc2FnZQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczMuJG5vdGlmeShyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgfSk7CiAgICB9LAogICAgb25SZWZyZXNoOiBmdW5jdGlvbiBvblJlZnJlc2goKSB7CiAgICAgIHRoaXMuZ2V0QXJ0aWNsZSgpOwogICAgfQogIH0sCiAgZmlsdGVyczogewogICAgcGFyc2VNZXNzYWdlVGltZTogZnVuY3Rpb24gcGFyc2VNZXNzYWdlVGltZShvbGRfdGltZSkgewogICAgICB2YXIgbm93ID0gbmV3IERhdGUoKSwKICAgICAgICAgIG9sZCA9IG5ldyBEYXRlKG9sZF90aW1lKSwKICAgICAgICAgIG5vd195ZWFyID0gbm93LmdldEZ1bGxZZWFyKCksCiAgICAgICAgICBvbGRfeWVhciA9IG9sZC5nZXRGdWxsWWVhcigpLAogICAgICAgICAgbm93X21vbnRoID0gbm93LmdldE1vbnRoKCkgKyAxLAogICAgICAgICAgb2xkX21vbnRoID0gb2xkLmdldE1vbnRoKCkgKyAxLAogICAgICAgICAgbm93X2RhdGUgPSBub3cuZ2V0RGF0ZSgpLAogICAgICAgICAgb2xkX2RhdGUgPSBvbGQuZ2V0RGF0ZSgpLAogICAgICAgICAgZm9ybWF0X21vbnRoID0gb2xkX21vbnRoLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgIjAiKSwKICAgICAgICAgIGZvcm1hdF9kYXRlID0gb2xkX2RhdGUudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAiMCIpLAogICAgICAgICAgZm9ybWF0X21pbnV0ZXMgPSBvbGQuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgIjAiKSwKICAgICAgICAgIGRheUFyciA9IFsi5pif5pyf5pelIiwgIuaYn+acn+S4gCIsICLmmJ/mnJ/kuowiLCAi5pif5pyf5LiJIiwgIuaYn+acn+WbmyIsICLmmJ/mnJ/kupQiLCAi5pif5pyf5YWtIl07CgogICAgICBpZiAobm93X3llYXIgPT0gb2xkX3llYXIpIHsKICAgICAgICBpZiAobm93X21vbnRoID09IG9sZF9tb250aCAmJiBub3dfZGF0ZSAtIG9sZF9kYXRlIDwgNykgewogICAgICAgICAgaWYgKG5vd19kYXRlID09IG9sZF9kYXRlKSB7CiAgICAgICAgICAgIHJldHVybiAiIi5jb25jYXQob2xkLmdldEhvdXJzKCksICI6IikuY29uY2F0KGZvcm1hdF9taW51dGVzKTsKICAgICAgICAgIH0gZWxzZSBpZiAobm93X2RhdGUgPT0gb2xkX2RhdGUgKyAxKSB7CiAgICAgICAgICAgIHJldHVybiAi5pio5aSpIjsKICAgICAgICAgIH0gZWxzZSBpZiAobm93X2RhdGUgPT0gb2xkX2RhdGUgKyAyKSB7CiAgICAgICAgICAgIHJldHVybiAi5YmN5aSpIjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBkYXlBcnJbb2xkLmdldERheSgpXTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuICIiLmNvbmNhdChmb3JtYXRfbW9udGgsICItIikuY29uY2F0KGZvcm1hdF9kYXRlKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdChvbGRfeWVhciwgIi0iKS5jb25jYXQoZm9ybWF0X21vbnRoLCAiLSIpLmNvbmNhdChmb3JtYXRfZGF0ZSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["articleDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div style=\"height:100%;wdith:100%;\">\r\n      <van-nav-bar\r\n        id=\"dynamictitle\"\r\n        title=\"Friends Dynamics\"\r\n        left-arrow\r\n        @click-left=\"$router.back()\"\r\n        @click-right =\"addShow = true\"\r\n      >\r\n        <van-icon id=\"addshow\" name=\"plus\" slot=\"right\" />\r\n      </van-nav-bar>\r\n      <van-pull-refresh v-model=\"isRefresh\" @refresh=\"onRefresh\" style=\"height:100%;\">\r\n      <ul>\r\n        <div id=\"notingdynamic\"\r\n          style=\"text-align: center;font-size: 20px;margin-top:100px;\"\r\n          v-if=\"list.length === 0\"\r\n        >Nothing....</div>\r\n        <van-panel\r\n          id=\"nickDynamic\"\r\n          v-for=\"(item,index) in list\"\r\n          :key=\"index\"\r\n          :title=\"item.owner.nickName\"\r\n          :desc=\"item.created\"\r\n          style=\"margin-bottom:16px;box-shadow: 0 5px 15px -5px rgba(0, 0, 0, 0.5); background:#fff;\"\r\n        >\r\n          <div slot=\"header\" style=\"font-size: 16px;overflow:hidden;padding: 10px 16px 0;\">\r\n            <div style=\"float:left;margin-right: 14px;\">\r\n              <van-image\r\n                id=\"avatarDynamic\"\r\n                fit=\"cover\"\r\n                round\r\n                width=\"40px\"\r\n                height=\"40px\"\r\n                :src=\"item.owner.avatar\"\r\n                slot=\"icon\"\r\n              />\r\n            </div>\r\n            <div id=\"mynickname\" style=\"margin-top:5px;\">{{item.owner.nickName}}</div>\r\n            <div\r\n               id=\"time\"\r\n              style=\"font-size: 14px;color: #777;margin-top:5px;\"\r\n            >{{item.created | parseMessageTime}}</div>\r\n          </div>\r\n          <div id=\"content\" style=\"font-size: 18px;padding: 0 16px;margin-top:10px;\">{{item.content}}</div>\r\n          <div slot=\"footer\">\r\n            <p v-for=\"(v,i) in item.comments\" :key=\"v+i\" style=\"font-size:16px;\">\r\n              <span id=\"usercontnet\" style=\"color: blue;font-size: 16px;\">{{v.user.nickName}}:</span>//留言\r\n              {{v.content}}\r\n            </p>\r\n            <div style=\"text-align:right;\">\r\n              <van-icon\r\n                id=\"contentshow\"\r\n                v-show=\"!item.isShow\"\r\n                @click=\"show(index)\"\r\n                name=\"comment-o\"\r\n                style=\"font-size:24px;\"\r\n              />\r\n              <div v-show=\"item.isShow\" class=\"cell\">\r\n                <van-button id=\"send\" style=\"float:right;\" round type=\"info\" @click=\"submit(index)\">send</van-button>\r\n                <van-cell-group>\r\n                  <van-field\r\n                    id=\"leavecontent\"\r\n                    style=\"background: #eee;\"\r\n                    v-model=\"content\"\r\n                    rows=\"1\"\r\n                    autosize\r\n                    type=\"textarea\"\r\n                    placeholder=\"Comment\"\r\n                  />\r\n                </van-cell-group>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </van-panel>\r\n      </ul>\r\n    </van-pull-refresh>\r\n    <van-popup v-model=\"addShow\" position=\"top\" style=\"height:100%;width:100%;background: #eee;\">\r\n      <van-nav-bar id=\"newDynamic\" title=\"New Dynamics\" left-arrow @click-left=\"addShow = false\" />//发布动态\r\n      <van-cell-group style=\" box-shadow: 0 5px 15px -5px rgba(0, 0, 0, 0.5);margin-top:16px;\">\r\n        <van-field\r\n          id=\"sharecontent\"\r\n          round\r\n          v-model=\"message\"\r\n          rows=\"5\"\r\n          autosize\r\n          type=\"textarea\"\r\n          placeholder=\"share your happy things...\"\r\n        />\r\n      </van-cell-group>\r\n      <van-button\r\n        id=\"butnsend\"\r\n        @click=\"create\"\r\n        round\r\n        type=\"info\"\r\n        size=\"large\"\r\n        style=\"box-shadow: 0 5px 15px -5px rgba(0, 0, 0, 0.5);margin-top:16px;\"\r\n      >Send</van-button>//发布\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { createArticle, getArticles, addComment } from \"@/api/article\";\r\n\r\nexport default {\r\n  name: \"Article\",\r\n  data() {\r\n    return {\r\n      list: [],\r\n      content: \"\",\r\n      isShow: false,\r\n      addShow: false,\r\n      message: \"\",\r\n      scroll: \"\",\r\n      isRefresh: false\r\n    };\r\n  },\r\n  created() {\r\n    this.getArticle();\r\n  },\r\n  methods: {\r\n    create() {\r\n      createArticle({ content: this.message }).then(res => {\r\n        if (res.status === 200) {\r\n          this.message = \"\";\r\n          this.addShow = false;\r\n          this.getArticle();\r\n          return this.$notify({ type: \"success\", message: res.data.message });\r\n        }\r\n        this.$notify(res.data.message);\r\n      });\r\n    },\r\n    show(index) {\r\n      this.content = \"\";\r\n      let data = this.list;\r\n      data = data.map(e => {\r\n        e.isShow = false;\r\n        return e;\r\n      });\r\n      data[index].isShow = true;\r\n      this.list = data;\r\n    },\r\n    getArticle() {\r\n      getArticles().then(res => {\r\n        let list = res.data.data;\r\n        list = list.map(e => {\r\n          e.isShow = false;\r\n          return e;\r\n        });\r\n        this.list = list;\r\n        this.isRefresh = false;\r\n      });\r\n    },\r\n    submit(index) {\r\n      addComment({ id: this.list[index]._id, content: this.content }).then(\r\n        res => {\r\n          if (res.status === 200) {\r\n            this.getArticle();\r\n            return this.$notify({ type: \"success\", message: res.data.message });\r\n          }\r\n          this.$notify(res.data.message);\r\n        }\r\n      );\r\n    },\r\n    onRefresh() {\r\n      this.getArticle();\r\n    }\r\n  },\r\n  filters: {\r\n    parseMessageTime(old_time) {\r\n      let now = new Date(),\r\n        old = new Date(old_time),\r\n        now_year = now.getFullYear(),\r\n        old_year = old.getFullYear(),\r\n        now_month = now.getMonth() + 1,\r\n        old_month = old.getMonth() + 1,\r\n        now_date = now.getDate(),\r\n        old_date = old.getDate(),\r\n        format_month = old_month.toString().padStart(2, \"0\"),\r\n        format_date = old_date.toString().padStart(2, \"0\"),\r\n        format_minutes = old\r\n          .getMinutes()\r\n          .toString()\r\n          .padStart(2, \"0\"),\r\n        dayArr = [\r\n          \"星期日\",\r\n          \"星期一\",\r\n          \"星期二\",\r\n          \"星期三\",\r\n          \"星期四\",\r\n          \"星期五\",\r\n          \"星期六\"\r\n        ];\r\n      if (now_year == old_year) {\r\n        if (now_month == old_month && now_date - old_date < 7) {\r\n          if (now_date == old_date) {\r\n            return `${old.getHours()}:${format_minutes}`;\r\n          } else if (now_date == old_date + 1) {\r\n            return \"昨天\";\r\n          } else if (now_date == old_date + 2) {\r\n            return \"前天\";\r\n          } else {\r\n            return dayArr[old.getDay()];\r\n          }\r\n        } else {\r\n          return `${format_month}-${format_date}`;\r\n        }\r\n      } else {\r\n        return `${old_year}-${format_month}-${format_date}`;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\np {\r\n  font-size: 20px;\r\n  margin-bottom: 10px;\r\n}\r\n.cell .van-cell {\r\n  width: 90%;\r\n  margin: auto;\r\n}\r\n.cell .van-cell-group {\r\n  width: 83%;\r\n  background: #eee;\r\n}\r\n</style>"],"sourceRoot":"src/components/Home"}]}