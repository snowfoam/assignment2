{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\chatapp\\src\\components\\Register\\Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\src\\components\\Register\\Register.vue","mtime":1576302790648},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOlxcVXNlcnNcXGxlbm92b1xcRGVza3RvcFxcY2hhdGFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgc2VuZENvZGUsIGNoZWNrQ29kZSwgcmVnaXN0ZXIgfSBmcm9tICdAL2FwaS91c2VyJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJyZWdpc3RlciIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgY29kZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIGluZm86IHsKICAgICAgICBuaWNrTmFtZTogIiIsCiAgICAgICAgc2V4OiAibWFsZSIsCiAgICAgICAgYWdlOiAiIiwKICAgICAgICBmYXZvcjogIiIKICAgICAgfSwKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIHBhZ2VTaG93OiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ29iYWNrOiBmdW5jdGlvbiBnb2JhY2sobnVtYmVyKSB7CiAgICAgIGlmIChudW1iZXIpIHsKICAgICAgICB0aGlzLnBhZ2VTaG93ID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIuYmFjaygpOwogICAgICB9CiAgICB9LAogICAgbmV4dDogZnVuY3Rpb24gbmV4dChudW1iZXIpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChudW1iZXIpIHsKICAgICAgICByZWdpc3Rlcihfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmluZm8sIHt9LCB0aGlzLmZvcm0pKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgX3RoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICdTdWNjZXNzJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnL3dlbGNvbWUnKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLiRub3RpZnkocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2hlY2tDb2RlKHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzLnBhZ2VTaG93ID0gZmFsc2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy4kbm90aWZ5KHJlcy5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2VuZENvZGVzOiBmdW5jdGlvbiBzZW5kQ29kZXMoKSB7CiAgICAgIGlmICh0aGlzLmZvcm0uZW1haWwgPT09ICIiKSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KCJUaGUgbWFpbGJveCBjYW5ub3QgYmUgZW1wdHkuIik7CiAgICAgIH0gZWxzZSBpZiAoL15bQS1aYS16MC05XHU0ZTAwLVx1OWZhNV0rQFthLXpBLVowLTlfLV0rKFwuW2EtekEtWjAtOV8tXSspKyQvLnRlc3QodGhpcy5mb3JtLmVtYWlsKSkgewogICAgICAgIHNlbmRDb2RlKHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHt9KTsKICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgbWVzc2FnZTogIlN1Y2Nlc3MiCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KCJUaGUgZW1haWwgZm9ybWF0IGlzIGluY29ycmVjdC4iKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,SAAA,QAAA,EAAA,SAAA,EAAA,QAAA,QAAA,YAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OADA;AAMA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,GAAA,EAAA,MAFA;AAGA,QAAA,GAAA,EAAA,EAHA;AAIA,QAAA,KAAA,EAAA;AAJA,OANA;AAYA,MAAA,IAAA,EAAA,KAZA;AAaA,MAAA,QAAA,EAAA;AAbA,KAAA;AAeA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,kBACA,MADA,EACA;AACA,UAAA,MAAA,EAAA;AACA,aAAA,QAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,OAAA,CAAA,IAAA;AACA;AACA,KAPA;AAQA,IAAA,IARA,gBAQA,MARA,EAQA;AAAA;;AACA,UAAA,MAAA,EAAA;AACA,QAAA,QAAA,mBAAA,KAAA,IAAA,MAAA,KAAA,IAAA,EAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA;AAAA,cAAA,IAAA,EAAA,SAAA;AAAA,cAAA,OAAA,EAAA;AAAA,aAAA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AACA,WAHA,MAGA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,SAPA;AAQA,OATA,MASA;AACA,QAAA,SAAA,CAAA,KAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA,WAFA,MAEA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,SANA;AAOA;AACA,KA3BA;AA4BA,IAAA,SA5BA,uBA4BA;AACA,UAAA,KAAA,IAAA,CAAA,KAAA,KAAA,EAAA,EAAA;AACA,aAAA,OAAA,CAAA,8BAAA;AACA,OAFA,MAEA,IAAA,gEAAA,IAAA,CAAA,KAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA,QAAA,QAAA,CAAA,KAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,SAFA,EAEA,KAFA,CAEA,UAAA,GAAA,EAAA,CACA,CAHA;AAIA,aAAA,OAAA,CAAA;AAAA,UAAA,IAAA,EAAA,SAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AACA,OANA,MAMA;AACA,aAAA,OAAA,CAAA,gCAAA;AACA;AACA;AAxCA;AAnBA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <div v-show=\"pageShow\">\r\n      <van-nav-bar id=\"title\" title=\"New User\" left-arrow @click-left=\"goback(0)\" >New User</van-nav-bar>\r\n      <van-cell-group>\r\n        <van-field id=\"email\" label=\"Email\" placeholder=\"Please enter email\" v-model=\"form.email\">Email</van-field>\r\n      </van-cell-group>\r\n      <van-cell-group>\r\n        <van-field\r\n          id=\"code\"\r\n          v-model=\"form.code\"\r\n          center\r\n          clearable\r\n          label=\"Code\"\r\n          placeholder=\"Please enter code\"\r\n        >Code\r\n          <van-button id=\"sendcode\" slot=\"button\" size=\"small\" type=\"primary\" @click=\"sendCodes\">Send Code</van-button>\r\n        </van-field>\r\n        <van-cell-group>\r\n          <van-field id=\"pwd\" label=\"Password\" type=\"password\" placeholder=\"Please enter password\" v-model=\"form.password\">Password</van-field>\r\n        </van-cell-group>\r\n      </van-cell-group>\r\n      <van-button id=\"next1\" style=\"width:100%;margin-top:16px;\" type=\"info\" @click=\"next(0)\">Next</van-button>\r\n    </div>\r\n    <div v-show=\"!pageShow\">\r\n      <van-nav-bar id=\"title1\" title=\"Infomation\" left-arrow @click-left=\"goback(1)\" />\r\n      <van-cell-group>\r\n        <van-field id=\"nickname\" label=\"NickName\" v-model=\"info.nickName\" />\r\n        <van-cell id=\"sex\" title=\"Sex\" clickable @click=\"radio = '1'\">\r\n          <van-radio-group\r\n            v-model=\"info.sex\"\r\n            style=\"display:flex;font-size: 16px; justify-content: space-around;\"\r\n          >\r\n            <van-radio id=\"male\" name=\"male\">male</van-radio>\r\n            <van-radio id=\"female\" name=\"female\">female</van-radio>\r\n          </van-radio-group>\r\n        </van-cell>\r\n        <van-field\r\n          id=\"age\"\r\n          label=\"Age\"\r\n          v-model=\"info.age\"\r\n        />\r\n        <van-field id=\"favor\" label=\"Favor\" v-model=\"info.favor\" />\r\n        <van-button id=\"next2\" style=\"width:100%;margin-top: 16px;\" type=\"info\" @click=\"next(1)\">Next</van-button>\r\n      </van-cell-group>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {sendCode,checkCode,register} from '@/api/user'\r\nexport default {\r\n  name: \"register\",\r\n  data() {\r\n    return {\r\n      form: {\r\n        email: \"\",\r\n        code: \"\",\r\n        password:''\r\n      },\r\n      info: {\r\n        nickName: \"\",\r\n        sex: \"male\",\r\n        age: \"\",\r\n        favor: \"\"\r\n      },\r\n      show: false,\r\n      pageShow: true\r\n    };\r\n  },\r\n  methods: {\r\n    goback(number) {\r\n      if (number) {\r\n        this.pageShow = true;\r\n      } else {\r\n        this.$router.back();\r\n      }\r\n    },\r\n    next(number) {\r\n      if (number) {\r\n        register({...this.info,...this.form}).then(res => {\r\n          if(res.status === 200){\r\n            this.$notify({type:'success', message:'Success'})\r\n            this.$router.push('/welcome')\r\n          } else{\r\n            this.$notify(res.data.message)\r\n          }\r\n        })\r\n      } else {\r\n        checkCode(this.form).then(res => {\r\n          if( res.status === 200 ){\r\n            this.pageShow = false;\r\n          } else{\r\n            this.$notify(res.data.message)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    sendCodes() {\r\n      if (this.form.email === \"\") {\r\n        this.$notify(\"The mailbox cannot be empty.\");\r\n      } else if (/^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/.test(this.form.email)){\r\n        sendCode(this.form).then((result) => {\r\n          console.log(result)\r\n        }).catch((err) => {\r\n        });\r\n        this.$notify({ type: \"success\", message: \"Success\" });\r\n      } else {\r\n        this.$notify(\"The email format is incorrect.\");\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n</style>"],"sourceRoot":"src/components/Register"}]}