{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\chatapp\\src\\components\\Home\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\src\\components\\Home\\Home.vue","mtime":1576298763310},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQzpcXFVzZXJzXFxsZW5vdm9cXERlc2t0b3BcXGNoYXRhcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgc2VhcmNoLCBhZGRQZXJzb24sIHVwbG9hZCB9IGZyb20gIkAvYXBpL3VzZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImhvbWUiLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGlmICh0aGlzLnRva2VuICYmICF0aGlzLmhhc0dldEluZm8pIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldFVzZXJJbmZvIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuJHNvY2tldC5lbWl0KCJsb2dpbiIsIHsKICAgICAgICAgIHVzZXJJZDogcmVzLmRhdGEuZGF0YS5faWQKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKCF0aGlzLnRva2VuKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiYm9vdCIKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbInVzZXJJbmZvIiwgImhhc0dldEluZm8iLCAidG9rZW4iXSkpLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmU6IHRoaXMuJHJvdXRlLm5hbWUsCiAgICAgIHNlYXJjaFZhbHVlOiAiIiwKICAgICAgc2VhcmNoUGVyc29uOiAiIiwKICAgICAgc2VhcmNoR3JvdXA6ICIiLAogICAgICByaWdodFNob3c6IGZhbHNlLAogICAgICBzZWFyY2hUeXBlOiAicGVyc29uIiwKICAgICAgbGVmdFNob3c6IGZhbHNlLAogICAgICBpbmZvOiB7CiAgICAgICAgbmlja05hbWU6ICIiLAogICAgICAgIHNleDogIm1hbGUiLAogICAgICAgIGFnZTogIiIsCiAgICAgICAgZmF2b3I6ICIiLAogICAgICAgIHNpZ25hdHVyZTogIiIKICAgICAgfSwKICAgICAgZGlzYWJsZWQ6IHRydWUsCiAgICAgIHNob3c6IGZhbHNlLAogICAgICBwZXJzb25JbmZvOiB7CiAgICAgICAgbmlja05hbWU6ICIiLAogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICBhZ2U6ICIiLAogICAgICAgIGZhdm9yOiAiIiwKICAgICAgICBzaWduYXR1cmU6ICIiLAogICAgICAgIF9pZDogIiIKICAgICAgfSwKICAgICAgc2VhcmNoU2hvdzogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsidXBkYXRlZFVzZXJJbmZvIl0pLCB7CiAgICByaWdodDogZnVuY3Rpb24gcmlnaHQoKSB7CiAgICAgIHRoaXMucmlnaHRTaG93ID0gdHJ1ZTsKICAgIH0sCiAgICBsZWZ0OiBmdW5jdGlvbiBsZWZ0KCkgewogICAgICB0aGlzLmluZm8gPSB0aGlzLnVzZXJJbmZvOwogICAgICB0aGlzLmxlZnRTaG93ID0gdHJ1ZTsKICAgIH0sCiAgICBvblNlYXJjaFBlcnNvbjogZnVuY3Rpb24gb25TZWFyY2hQZXJzb24oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgc2VhcmNoKHRoaXMuc2VhcmNoUGVyc29uKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIucGVyc29uSW5mbyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgX3RoaXMyLnNlYXJjaFNob3cgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgb2JqID0gewogICAgICAgIHRvOiB0aGlzLnBlcnNvbkluZm8uX2lkLAogICAgICAgIG1lc3NhZ2U6ICJBcHBseSB0byBhZGQgeW91IGFzIGEgZnJpZW5kIiwKICAgICAgICBzb3VyY2U6ICJFbWFpbCBzZWFyY2giCiAgICAgIH07CiAgICAgIGFkZFBlcnNvbihvYmopLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy4kbm90aWZ5KHsKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1lc3NhZ2UKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHsKICAgICAgICB0aGlzLnVwZGF0ZWRVc2VySW5mbyh0aGlzLmluZm8pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM0LiRub3RpZnkoewogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJTdWNjZXNzIgogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZGlzYWJsZWQgPSAhdGhpcy5kaXNhYmxlZDsKICAgIH0sCiAgICBhZnRlclJlYWQ6IGZ1bmN0aW9uIGFmdGVyUmVhZChmaWxlKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZGF0YS5hcHBlbmQoImF2YXRhciIsIGZpbGUuZmlsZSk7CiAgICAgIHVwbG9hZChkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczUuJHN0b3JlLmRpc3BhdGNoKCdnZXRVc2VySW5mbycpOwogICAgICB9KTsKICAgIH0sCiAgICBMb2dvdXQ6IGZ1bmN0aW9uIExvZ291dCgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2hhbmRsZUxvZ091dCcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KTsKICAgIH0KICB9KSwKICB3YXRjaDogewogICAgJHJvdXRlOiBmdW5jdGlvbiAkcm91dGUodmFsKSB7CiAgICAgIHRoaXMuYWN0aXZlID0gdmFsLm5hbWU7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <meta http-equiv=\"Access-Control-Allow-Origin\" content=\"*\">\r\n  <div style=\"width:100%;height:100%;overflow: hidden;\">\r\n    <div style=\"height: 8%\">\r\n      <van-nav-bar :title=\"active\" @click-right=\"right\" @click-left=\"left\" class=\"bar\"><!--点击头像改数据-->\r\n        <van-icon id=\"plus\" name=\"plus\" slot=\"right\" />\r\n        <div slot=\"left\" style=\"top: 0\">\r\n          <van-image\r\n            id=\"clickavatar\"\r\n            fit=\"cover\"\r\n            round\r\n            width=\"40px\"\r\n            height=\"40px\"\r\n            :src=\"userInfo.avatar\"\r\n          />\r\n        </div>\r\n      </van-nav-bar>\r\n    </div>\r\n    <router-view style=\"height: 80%;\"></router-view>\r\n    <van-popup id=\"rightshow\"v-model=\"rightShow\" position=\"right\" style=\"height:100%;width:100%;\">\r\n      <van-nav-bar id=\"addshow\" title=\"Add\" left-arrow @click-left=\"rightShow = false\" />\r\n        <van-search\r\n            id=\"email\"\r\n            v-model=\"searchPerson\"\r\n            shape=\"round\"\r\n            placeholder=\"Please enter Emali to find friend\"\r\n            background=\"#F0F3F6\"\r\n            @search=\"onSearchPerson\"\r\n        />\r\n        <van-panel title=\"UserInfo\" v-show=\"searchShow\">\r\n          <div style=\"font-size:16px\">\r\n            <p>\r\n              <span id=\"nickname\">NickName:</span>\r\n              {{personInfo.nickName}}\r\n            </p>\r\n            <p>\r\n              <span id=\"age\">Age:</span>\r\n              {{personInfo.age}}\r\n            </p>\r\n            <p>\r\n              <span id=\"sex\">Sex:</span>\r\n              {{personInfo.sex}}\r\n            </p>\r\n            <p>\r\n              <span id=\"favor\">Favor:</span>\r\n              {{personInfo.favor}}\r\n            </p>\r\n            <p>\r\n              <span id=\"signature\">Signature:</span>\r\n              {{personInfo.signature}}\r\n            </p>\r\n          </div>\r\n          <div slot=\"footer\"><!--添加好友-->\r\n            <van-button id=\"addUser\" size=\"large\" type=\"info\" @click=\"add\">Add User</van-button>\r\n          </div>\r\n        </van-panel>\r\n\r\n    </van-popup>\r\n    <van-popup v-model=\"leftShow\" position=\"left\" style=\"height:100%;width:100%;\">\r\n      <van-nav-bar :title=\"userInfo.nickName\" left-arrow @click-left=\"leftShow = false\" /><!--点击名字-->\r\n      <div style=\"text-align: center;width:100%;\">\r\n        <van-uploader :after-read=\"afterRead\">\r\n          <van-image id=\"useravator\" width=\"150\" fit=\"contain\" :src=\"userInfo.avatar\" /><!--点击头像-->\r\n        </van-uploader>\r\n      </div>\r\n      <van-cell-group>\r\n        <van-field id=\"nickname1\" label=\"NickName\" v-model=\"info.nickName\" :disabled=\"disabled\" />\r\n        <van-cell id=\"sex1\" title=\"Sex\" clickable @click=\"radio = '1'\">\r\n          <van-radio-group\r\n            id=\"selectsex\"\r\n            v-model=\"info.sex\"\r\n            style=\"display:flex;font-size: 16px; justify-content: space-around;\"\r\n            :disabled=\"disabled\"\r\n          >\r\n            <van-radio id=\"male1\" name=\"male\">male</van-radio>\r\n            <van-radio id=\"female1\" name=\"female\">female</van-radio>\r\n          </van-radio-group>\r\n        </van-cell>\r\n        <van-field\r\n          id=\"age1\"\r\n          label=\"Age\"\r\n          v-model=\"info.age\"\r\n          :disabled=\"disabled\"\r\n        />\r\n        <van-field id=\"favor1\" label=\"Favor\" v-model=\"info.favor\" :disabled=\"disabled\" />\r\n        <van-field id=\"signature1\" label=\"signature\" v-model=\"info.signature\" :disabled=\"disabled\" />\r\n        <van-button\r\n          id=\"save\"\r\n          style=\"width:100%;margin-top: 16px;\"\r\n          type=\"info\"\r\n          @click=\"save\"\r\n        >{{!disabled?'Save':'Edit'}}</van-button>\r\n        <van-button\r\n         id=\"logout\"\r\n        style=\"width:100%;margin-top: 16px;\"\r\n          type=\"info\"\r\n          @click=\"Logout\"\r\n          >\r\n          Logout\r\n        </van-button>\r\n      </van-cell-group>\r\n    </van-popup>\r\n    <van-tabbar v-model=\"active\">\r\n      <van-tabbar-item id=\"message\" name=\"Message\" to=\"message\" icon=\"chat\">Message</van-tabbar-item>\r\n      <van-tabbar-item id=\"friends\" name=\"Friends\" to=\"friends\" icon=\"friends\">Friends</van-tabbar-item>\r\n      <van-tabbar-item id=\"dynamic\" name=\"Dynamic\" to=\"article\" icon=\"star\">Dynamic</van-tabbar-item>\r\n    </van-tabbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport { search, addPerson,upload } from \"@/api/user\";\r\nexport default {\r\n  name: \"home\",\r\n  created() {\r\n    if (this.token && !this.hasGetInfo) {\r\n      this.$store.dispatch(\"getUserInfo\").then(res => {\r\n        this.$socket.emit(\"login\", {\r\n          userId: res.data.data._id\r\n        });\r\n      });\r\n    } else if (!this.token) {\r\n      this.$router.push({\r\n        name: \"boot\"\r\n      });\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"userInfo\", \"hasGetInfo\", \"token\"])\r\n  },\r\n  data() {\r\n    return {\r\n      active: this.$route.name,\r\n      searchValue: \"\",\r\n      searchPerson: \"\",\r\n      searchGroup: \"\",\r\n      rightShow: false,\r\n      searchType: \"person\",\r\n      leftShow: false,\r\n      info: {\r\n        nickName: \"\",\r\n        sex: \"male\",\r\n        age: \"\",\r\n        favor: \"\",\r\n        signature: \"\"\r\n      },\r\n      disabled: true,\r\n      show: false,\r\n      personInfo: {\r\n        nickName: \"\",\r\n        email: \"\",\r\n        age: \"\",\r\n        favor: \"\",\r\n        signature: \"\",\r\n        _id: \"\"\r\n      },\r\n      searchShow: false\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions([\"updatedUserInfo\"]),\r\n    right() {\r\n      this.rightShow = true;\r\n    },\r\n    left() {\r\n      this.info = this.userInfo;\r\n      this.leftShow = true;\r\n    },\r\n    onSearchPerson() {\r\n      search(this.searchPerson).then(res => {\r\n        this.personInfo = res.data.data;\r\n        this.searchShow = true;\r\n      });\r\n    },\r\n    add() {\r\n        let obj = {\r\n          to: this.personInfo._id,\r\n          message: \"Apply to add you as a friend\",\r\n          source: \"Email search\"\r\n        };\r\n        addPerson(obj).then(res => {\r\n          this.$notify({ type: \"success\", message: res.data.message });\r\n        });\r\n    },\r\n    save() {\r\n      if (!this.disabled) {\r\n        this.updatedUserInfo(this.info).then(res => {\r\n          this.$notify({ type: \"success\", message: \"Success\" });\r\n        });\r\n      }\r\n      this.disabled = !this.disabled;\r\n    },\r\n    afterRead(file){\r\n      let data = new FormData();\r\n      data.append(\"avatar\", file.file);\r\n      upload(data).then(res => {\r\n        this.$store.dispatch('getUserInfo')\r\n      })\r\n    },\r\n    Logout(){\r\n      this.$store.dispatch('handleLogOut').then(res => {\r\n        location.reload()\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    $route(val) {\r\n      this.active = val.name;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped lang=\"less\">\r\n.bar .van-nav-bar__left {\r\n  top: 10px;\r\n}\r\n</style>"],"sourceRoot":"src/components/Home"}]}