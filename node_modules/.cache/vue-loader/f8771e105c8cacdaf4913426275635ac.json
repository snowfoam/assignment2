{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\chatapp\\src\\components\\Register\\Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\src\\components\\Register\\Register.vue","mtime":1576075010091},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\chatapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge3NlbmRDb2RlLGNoZWNrQ29kZSxyZWdpc3Rlcn0gZnJvbSAnQC9hcGkvdXNlcicNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogInJlZ2lzdGVyIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybTogew0KICAgICAgICBlbWFpbDogIiIsDQogICAgICAgIGNvZGU6ICIiLA0KICAgICAgICBwYXNzd29yZDonJw0KICAgICAgfSwNCiAgICAgIGluZm86IHsNCiAgICAgICAgbmlja05hbWU6ICIiLA0KICAgICAgICBzZXg6ICJtYWxlIiwNCiAgICAgICAgYWdlOiAiIiwNCiAgICAgICAgZmF2b3I6ICIiDQogICAgICB9LA0KICAgICAgc2hvdzogZmFsc2UsDQogICAgICBwYWdlU2hvdzogdHJ1ZQ0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnb2JhY2sobnVtYmVyKSB7DQogICAgICBpZiAobnVtYmVyKSB7DQogICAgICAgIHRoaXMucGFnZVNob3cgPSB0cnVlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kcm91dGVyLmJhY2soKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIG5leHQobnVtYmVyKSB7DQogICAgICBpZiAobnVtYmVyKSB7DQogICAgICAgIHJlZ2lzdGVyKHsuLi50aGlzLmluZm8sLi4udGhpcy5mb3JtfSkudGhlbihyZXMgPT4gew0KICAgICAgICAgIGlmKHJlcy5zdGF0dXMgPT09IDIwMCl7DQogICAgICAgICAgICB0aGlzLiRub3RpZnkoe3R5cGU6J3N1Y2Nlc3MnLCBtZXNzYWdlOidTdWNjZXNzJ30pDQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3dlbGNvbWUnKQ0KICAgICAgICAgIH0gZWxzZXsNCiAgICAgICAgICAgIHRoaXMuJG5vdGlmeShyZXMuZGF0YS5tZXNzYWdlKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNoZWNrQ29kZSh0aGlzLmZvcm0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICBpZiggcmVzLnN0YXR1cyA9PT0gMjAwICl7DQogICAgICAgICAgICB0aGlzLnBhZ2VTaG93ID0gZmFsc2U7DQogICAgICAgICAgfSBlbHNlew0KICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHJlcy5kYXRhLm1lc3NhZ2UpDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgc2VuZENvZGVzKCkgew0KICAgICAgaWYgKHRoaXMuZm9ybS5lbWFpbCA9PT0gIiIpIHsNCiAgICAgICAgdGhpcy4kbm90aWZ5KCJUaGUgbWFpbGJveCBjYW5ub3QgYmUgZW1wdHkuIik7DQogICAgICB9IGVsc2UgaWYgKC9eW0EtWmEtejAtOVx1NGUwMC1cdTlmYTVdK0BbYS16QS1aMC05Xy1dKyhcLlthLXpBLVowLTlfLV0rKSskLy50ZXN0KHRoaXMuZm9ybS5lbWFpbCkpew0KICAgICAgICBzZW5kQ29kZSh0aGlzLmZvcm0pLnRoZW4oKHJlc3VsdCkgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCkNCiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gew0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy4kbm90aWZ5KHsgdHlwZTogInN1Y2Nlc3MiLCBtZXNzYWdlOiAiU3VjY2VzcyIgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRub3RpZnkoIlRoZSBlbWFpbCBmb3JtYXQgaXMgaW5jb3JyZWN0LiIpOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components/Register","sourcesContent":["<template>\r\n  <div>\r\n    <div v-show=\"pageShow\">\r\n      <van-nav-bar id=\"title\" title=\"New User\" left-arrow @click-left=\"goback(0)\" >New User</van-nav-bar>\r\n      <van-cell-group>\r\n        <van-field id=\"email\" label=\"Email\" placeholder=\"Please enter email\" v-model=\"form.email\">Email</van-field>\r\n      </van-cell-group>\r\n      <van-cell-group>\r\n        <van-field\r\n          id=\"code\"\r\n          v-model=\"form.code\"\r\n          center\r\n          clearable\r\n          label=\"Code\"\r\n          placeholder=\"Please enter code\"\r\n        >Code\r\n          <van-button id=\"sendcode\" slot=\"button\" size=\"small\" type=\"primary\" @click=\"sendCodes\">Send Code</van-button>\r\n        </van-field>\r\n        <van-cell-group>\r\n          <van-field id=\"pwd\" label=\"Password\" type=\"password\" placeholder=\"Please enter password\" v-model=\"form.password\">Password</van-field>\r\n        </van-cell-group>\r\n      </van-cell-group>\r\n      <van-button id=\"next1\" style=\"width:100%;margin-top:16px;\" type=\"info\" @click=\"next(0)\">Next</van-button>\r\n    </div>\r\n    <div v-show=\"!pageShow\">\r\n      <van-nav-bar id=\"title1\" title=\"Infomation\" left-arrow @click-left=\"goback(1)\" />\r\n      <van-cell-group>\r\n        <van-field id=\"nickname\" label=\"NickName\" v-model=\"info.nickName\" />\r\n        <van-cell id=\"sex\" title=\"Sex\" clickable @click=\"radio = '1'\">\r\n          <van-radio-group\r\n            v-model=\"info.sex\"\r\n            style=\"display:flex;font-size: 16px; justify-content: space-around;\"\r\n          >\r\n            <van-radio id=\"male\" name=\"male\">male</van-radio>\r\n            <van-radio id=\"female\" name=\"female\">female</van-radio>\r\n          </van-radio-group>\r\n        </van-cell>\r\n        <van-field\r\n          id=\"age\"\r\n          label=\"Age\"\r\n          v-model=\"info.age\"\r\n        />\r\n        <van-field id=\"favor\" label=\"Favor\" v-model=\"info.favor\" />\r\n        <van-button id=\"next2\" style=\"width:100%;margin-top: 16px;\" type=\"info\" @click=\"next(1)\">Next</van-button>\r\n      </van-cell-group>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {sendCode,checkCode,register} from '@/api/user'\r\nexport default {\r\n  name: \"register\",\r\n  data() {\r\n    return {\r\n      form: {\r\n        email: \"\",\r\n        code: \"\",\r\n        password:''\r\n      },\r\n      info: {\r\n        nickName: \"\",\r\n        sex: \"male\",\r\n        age: \"\",\r\n        favor: \"\"\r\n      },\r\n      show: false,\r\n      pageShow: true\r\n    };\r\n  },\r\n  methods: {\r\n    goback(number) {\r\n      if (number) {\r\n        this.pageShow = true;\r\n      } else {\r\n        this.$router.back();\r\n      }\r\n    },\r\n    next(number) {\r\n      if (number) {\r\n        register({...this.info,...this.form}).then(res => {\r\n          if(res.status === 200){\r\n            this.$notify({type:'success', message:'Success'})\r\n            this.$router.push('/welcome')\r\n          } else{\r\n            this.$notify(res.data.message)\r\n          }\r\n        })\r\n      } else {\r\n        checkCode(this.form).then(res => {\r\n          if( res.status === 200 ){\r\n            this.pageShow = false;\r\n          } else{\r\n            this.$notify(res.data.message)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    sendCodes() {\r\n      if (this.form.email === \"\") {\r\n        this.$notify(\"The mailbox cannot be empty.\");\r\n      } else if (/^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/.test(this.form.email)){\r\n        sendCode(this.form).then((result) => {\r\n          console.log(result)\r\n        }).catch((err) => {\r\n        });\r\n        this.$notify({ type: \"success\", message: \"Success\" });\r\n      } else {\r\n        this.$notify(\"The email format is incorrect.\");\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n</style>"]}]}